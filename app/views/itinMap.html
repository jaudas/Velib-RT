<div class = "cadre" >
  <h1> Itineraire </h1>

  <div class="stationUnit">

    <!-- Informations de la station de départ  -->
    <div class="col-md-6 " style = "padding-bottom : 20px">
      <h2>DEPART</h2>
      <span class="name">Nom :  {{stationDepart.name}}</span>  
      <span ng-show="stationDepart.bonus=='true'" title ="Station fermée" style="color:red; text-align : center">
        <br>Attention, cette station est fermée ! </span>

        <span id = "star" ng-show="stationDepart.bonus==true" title ="Station Bonus" >
          <i class="fa fa-star"></i> </span>

        <span class ="bikes"> 

          <span ng-show="stationDepart.banking==true" title ="Terminal de paiement" >
            <i class="fa fa-credit-card" style ="color : grey"></i> </span>


          <span ng-class ="{true:'unvailable', false:'available'}[stationDepart.available_bikes==0]" title ="Vélos disponibles à la station" >
          {{stationDepart.available_bikes}}     <i class="fa fa-bicycle"></i> </span>

          <span ng-class ="{true:'unvailable', false:'available'}[stationDepart.available_bike_stands==0]" title ="Places disponibles" >
                  {{stationDepart.available_bike_stands}} <i class="fa fa-unlock-alt"></i></span>

        </span>


        <div class="address">{{stationDepart.address}}</div>

        <p class = "attention" ng-if = "stationDepart.status=='CLOSED'"> <i class="fa fa-ban"></i>Station fermée ! <i class="fa fa-ban"></i> </p>

        <!-- Si la station est fermée, pas la peine d'afficher qu'il n'y a pas de vélos  -->
        <p class = "attention" ng-if = "stationDepart.available_bikes==0 && station.Arrivee.status =='OPEN'"> Aucun vélo disponible à cette station ! :( </p>



    </div>

    <!-- Informations de la station d'arrivée  -->
    <div class="col-md-6 " style = "padding-bottom : 20px">
        <h2>ARRIVEE</h2>
        <span class="name">Nom :  {{stationArrivee.name}}</span>  


          <span id = "star" ng-show="stationArrivee.bonus==true" title ="Station Bonus" >
            <i class="fa fa-star"></i> </span>

          <span class ="bikes"> 

            <span ng-show="stationArrivee.banking==true" title ="Terminal de paiement" >
              <i class="fa fa-credit-card" style ="color : grey"></i> </span>


            <span ng-class ="{true:'unvailable', false:'available'}[stationArrivee.available_bikes==0]" title ="Vélos disponibles à la station" >
            {{stationArrivee.available_bikes}}     <i class="fa fa-bicycle"></i> </span>

            <span ng-class ="{true:'unvailable', false:'available'}[stationArrivee.available_bike_stands==0]" title ="Places disponibles" >
                    {{stationArrivee.available_bike_stands}} <i class="fa fa-unlock-alt"></i></span>

          </span>


          <div class="address">{{stationArrivee.address}}</div>



          <p class = "attention" ng-if = "stationArrivee.status=='CLOSED'"> <i class="fa fa-ban"></i>Station fermée ! <i class="fa fa-ban"></i> </p>
          <!-- Si la station est fermée, pas la peine d'afficher qu'il n'y a pas de place  -->
          <p class = "attention" ng-if = "stationArrivee.available_bike_stands==0 && station.Arrivee.status =='OPEN'"> Aucune place disponible à cette station ! </p>




        </div>

        <!-- Ce bouton devait tracer l'itineraire sur une carte, mais il ne fonctionne pas  -->
        <div id = "generateDirection">

          <a id = "drawdirection" title = "Non fonctionnel"type="button" class="btn btn-default btn-lg" tarket ="_blank"  ng-href = "https://maps.googleapis.com/maps/api/directions/json?origin={{stationDepart.position}}&destination={{stationArrivee.position}}&mode=bicycling&key=AIzaSyCfQg_Gp-_seA7ZGW_ZMDxlOUreAqnVkwI">Definir mon trajet</a>

      </div>


    <!-- Affichage de la carte  -->
    <div class="col-lg-12 ">
        <ui-gmap-google-map center='map.center' zoom='map.zoom'>

          <ui-gmap-marker idKey='marker1.id' coords='marker1.coords'></ui-gmap-marker>
          <ui-gmap-marker idKey='marker2.id' coords='marker2.coords'></ui-gmap-marker>
        </ui-gmap-google-map>

    </div>

  </div>

</div>
